var graphSketch=function(a){function q(e){var g=0,h=sirsim.getStatus(),k={SUSCEPTIBLE:{r:255,g:255,b:0},INFECTIOUS:{r:255,g:0,b:0},RECOVERED:{r:0,g:255,b:0}},f=0,m={SUSCEPTIBLE:sirsim.getNumberOfBalls(),INFECTIOUS:0,RECOVERED:0},l=b.height,n=l/e,c,p={drawLines:function(b){c={SUSCEPTIBLE:e,INFECTIOUS:0,RECOVERED:0};b.forEach(function(a){switch(a){case h.INFECTIOUS:++c.INFECTIOUS;--c.SUSCEPTIBLE;break;case h.RECOVERED:++c.RECOVERED,--c.SUSCEPTIBLE}});for(var d in h)a.stroke(k[d].r,k[d].g,k[d].b),b=
c[d],a.line(f,Math.floor(l-n*m[d]),g,Math.floor(l-n*b)),m[d]=b;f=g;0===c.INFECTIOUS&&a.noLoop()},draw:function(){g+=3;g==b.width?a.noLoop():p.drawLines(sirsim.getStatusArray())}};return p}var e,r=screen.availWidth-32,b=672<screen.availWidth?{width:640,height:200}:{width:r,height:200},f;a.setup=function(){e=a.createCanvas(b.width,b.height);e.id("graph-canvas");e.parent("graph-container");a.frameRate(6);a.reset()};a.reset=function(){a.background(255);prev_x=currentXCoordinatePixel=0;prev_y={SUSCEPTIBLE:sirsim.getNumberOfBalls(),
INFECTIOUS:0,RECOVERED:0};f=q(sirsim.getNumberOfBalls());a.strokeWeight(4);a.loop()};a.draw=function(){f.draw()}};
